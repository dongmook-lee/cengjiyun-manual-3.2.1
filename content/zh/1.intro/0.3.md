---
title: "服务管理层(Service Management Layer)"
date: 2019-04-19T10:41:01+09:00
weight: 3
---

---
通常情况下一个应用程序及服务由多个容器组成。尤其是类似 Kubernetes 的编排引擎，容器以 外还需额外增加服务端口、控制器、卷等对象。因此基于容器的应用程序及服务管理，需要压 缩和管理容器以及相关对象的抽象单位。服务管理层就是负责该领域的图层。

层积云的服务管理拥有如下阶层架构。

* 服务(Service) : 是最上游阶层，分配和管理服务所必要的集群资源、映像注册表、映像 Build 的群组。根据开发人员和运营人员的角色赋予权限，能独立进行管理。层积云可根据需求， 创建多个服务，并按组或服务分配以及管理。
* 服务地图(Service Map) : 是组成和管理应用程序的单位，相当于一个工作负载 (Workload)。例如一个服务可以由开发阶层、验证阶层、运营阶层的应用程序表组成，也 可以按照数据管理、分析系统类似功能组成应用程序表。从逻辑角度上，可以说应用程表 是管理工作负载为目的的由多个容器组成的单位。如前所述，服务由一个以上的应用程序 表组成。
* 层积云服务器(Cocktail Server) : 是容器和相关编排对象的压缩单位。应用程序表由一个 以上的层积云服务器组成。例如，可以 Web 服务器、DB 服务器等类似组件为准组成服务 器，也可以由小规模微服务为准组成层积云服务器。关于层积云服务器，后面进一步详细 说明。

下图是服务管理图层的配置图。

![]({{< param imageRootDir >}}/assets/cocktailcloud-architecture-3.png)

**层积云服务器(Cocktail Server)**

层积云服务器在服务管理层发挥最核心的功能。如前所述，层积云服务器是容器和相关编排对 象的压缩单位。层积云管理压缩对象的创建、更新等生命周期，同时把状态和资源作为一个压 缩单位进行监控以及管理。
以下是图实例。

![]({{ site.baseurl }}/assets/cocktailcloud-architecture-4.png)

层积云提供的管理职能有如下内容:

* 工作负载的创建、修改(更新)、停止、重启、删除、自动缩放

* 滚动更新

* 卷管理

* 服务端口管理

* 监控

* 检查 : 编排对象的状态以及部署信息查询

* 网络终端、日志查询 : 容器壳连接、容器日志查询
